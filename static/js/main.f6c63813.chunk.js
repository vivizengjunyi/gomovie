(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(24),i=c.n(s),r=c(6),o=c(4),l=c(3),j=c(7),u=c.n(j),d=c(12),b="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxN2Q4NzA5NWYyY2RjZTBkYjM2MDBiOTY1OWIwYzYyMSIsInN1YiI6IjYxMWJlNzAzNGEwYjE5MDA0NWM2MmQ4NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.I7bffZOYQCup48LfeLOQlzxYv0_EjSugb6lVmRglJ10",v=c(22),m=c(1),p=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=<<api_key>>&language=en-US&page=1",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=(c=e.sent).results.splice(0,4),n(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=Object(a.useState)(0),i=Object(l.a)(s,2),o=i[0],j=i[1],p=c.length,h=Object(a.useRef)(null);Object(a.useEffect)((function(){return h.current=setTimeout((function(){j((function(e){return e===p-1?0:e+1}))}),5e3),function(){h.current&&clearTimeout(h.current)}}),[o,p]);var O=function(e){e.preventDefault(),h.current&&clearTimeout(h.current),j(o===p-1?0:o+1)},x=function(e){e.preventDefault(),h.current&&clearTimeout(h.current),j(0===o?p-1:o-1)};return!Array.isArray(c)||p<=0?null:Object(m.jsx)("div",{className:"outerContainer",children:c.map((function(e,t){return t===o&&Object(m.jsx)("div",{className:"sliderWrapper",children:Object(m.jsx)(r.b,{to:"/gomovie/movie/".concat(e.id),children:Object(m.jsxs)("div",{className:"sliderContainer",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(e.backdrop_path,")")},children:[Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/"+e.poster_path,alt:e.title,className:"slider-img"}),Object(m.jsx)("div",{className:"slider-title",children:e.title}),Object(m.jsx)(v.a,{onClick:x,className:"back"}),Object(m.jsx)(v.b,{onClick:O,className:"next"})]},t)})})}))})},h=c(26),O=function(e){var t=e.toggle,c=e.show,n=void 0!==c&&c,s=Object(a.useState)(!1),i=Object(l.a)(s,2),j=i[0],u=i[1],d=Object(a.useState)(""),b=Object(l.a)(d,2),v=b[0],p=b[1],O=Object(a.useRef)(null),x=Object(o.f)(),f=t||function(){},g=function(){j?""===v.trim()?u(!1):x.push("/gomovie/search?query="+v):(u(!0),setTimeout((function(){return O.current.focus()})))};return Object(m.jsx)("nav",{className:"dropdownMenu ".concat(n?"show-nav":""),children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:"/gomovie/",onClick:f,children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:"/gomovie/favs",onClick:f,children:"Favs"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:"/gomovie/about",onClick:f,children:"About"})}),Object(m.jsxs)("li",{className:"search",children:[j&&Object(m.jsx)("input",{type:"text",ref:O,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&g()}}),Object(m.jsx)(h.a,{className:"search-icon",onClick:g})]})]})})},x=c(27),f=c(28),g=function(){var e=Object(o.g)(),t=Object(a.useState)(!0),c=Object(l.a)(t,2),n=c[0],s=c[1],i=function(){s(!0!==n)};return Object(m.jsxs)("header",{children:[("/gomovie/"===e.pathname||"/gomovie/index.html"===e.pathname||e.pathname.indexOf("/gomovie/sort/")>-1)&&Object(m.jsx)(p,{}),Object(m.jsxs)("div",{class:"flex-column",children:[Object(m.jsxs)("div",{className:"flex-row",children:[Object(m.jsx)("div",{className:"brand",children:Object(m.jsx)(r.c,{to:"/gomovie/",children:"GoMovie"})}),Object(m.jsx)(O,{show:!0}),!0===n?Object(m.jsx)("div",{className:"little-gap",children:Object(m.jsx)(x.a,{className:"burgerMenuIcon",onClick:i})}):Object(m.jsx)(f.a,{class:"closeMenuIcon",onClick:i})]}),!1===n&&Object(m.jsx)(O,{toggle:i})]})]})},N=function(){return Object(m.jsx)("footer",{children:Object(m.jsx)("p",{children:"\xa9 GoMovie is created with React by Junyi(Vivi) Zeng"})})},w=[{text:"Popular",categoryId:"popular"},{text:"Top Rated",categoryId:"top_rated"},{text:"Now Playing",categoryId:"now_playing"},{text:"Upcoming",categoryId:"upcoming"}],y={popular:"background1",top_rated:"background2",now_playing:"background3",upcoming:"background4"},S=function(e){var t=e.categoryId,c=void 0===t?"popular":t;return Object(m.jsxs)("div",{class:"place-background",children:[Object(m.jsx)("nav",{className:"navSort",children:Object(m.jsx)("ul",{children:w.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:"/gomovie/sort/"+e.categoryId,children:e.text})})}))})}),Object(m.jsx)("div",{className:y[c]})]})},k=c.p+"static/media/no-image.e550447a.jpeg",I="movie";function _(){var e=localStorage.getItem(I);return e=null===e?[]:JSON.parse(e)}var C={addFav:function(e){var t=_();if(!t.find((function(t){return t.id===e.id}))){t.push(e);var c=JSON.stringify(Array.from(new Set(t)));return localStorage.setItem(I,c),t}},removeFav:function(e){var t=_();t=t.filter((function(t){return t.id!==e.id}));var c=JSON.stringify(t);return localStorage.setItem(I,c),t}},A={getFavs:_,actions:C},T=c(29),J=c(11),M=c(17);var Y=function(e){var t=e.movieObj,c=e.onUpdate,n=e.showDetail,s=A.getFavs,i=A.actions,o=Object(a.useState)([]),j=Object(l.a)(o,2),u=j[0],d=j[1];Object(a.useEffect)((function(){d(s())}),[]);var b,v,p=function(e,t){var a=i[t?"removeFav":"addFav"](e);d(a),c&&c()};return Object(m.jsxs)("div",{className:"movie-card",children:[(b=u,v=t.id,0!==b.length&&b.some((function(e){return e.id===v}))?Object(m.jsx)(J.a,{className:"float-right icon-fav",onClick:function(){return p(t,!0)}}):Object(m.jsx)(J.b,{className:"float-right icon-fav",onClick:function(){return p(t,!1)}})),Object(m.jsxs)("div",{className:"movie-poster",children:[null===t.poster_path?Object(m.jsx)("img",{src:k,alt:"No poster"}):Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:t.title}),n?Object(m.jsx)("div",{className:"movieInfoSection",children:Object(m.jsxs)("div",{className:"movieInfo",children:[Object(m.jsx)("p",{className:"movieTitle",children:t.title}),Object(m.jsxs)("div",{className:"flex-row",children:[Object(m.jsx)("p",{children:t.release_date}),Object(m.jsxs)("div",{className:"flex-row",children:[Object(m.jsx)(M.a,{className:"start"}),Object(m.jsx)("p",{children:t.vote_average})]})]}),Object(m.jsx)("p",{className:"overviewTitle",children:"Overview:"}),Object(m.jsx)("p",{className:"overview",children:t.overview}),Object(m.jsxs)(r.b,{to:"/gomovie/movie/".concat(t.id),children:["More Info",Object(m.jsx)(T.a,{})]})]})}):null,Object(m.jsx)("p",{className:"movieTitle2",children:Object(m.jsx)(r.b,{to:"/gomovie/movie/".concat(t.id),children:t.title})})]})]})},E=function(e){var t=e.movieData;return Object(m.jsx)("section",{className:"movies-container",children:t.map((function(e,t){return Object(m.jsx)(Y,{movieObj:e,showDetail:!0},t)}))})};var R=function(){var e=Object(o.h)().categoryId,t=void 0===e?"popular":e,c=Object(a.useState)(null),n=Object(l.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?&language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 2:return c=e.sent,e.next=5,c.json();case 5:a=(a=e.sent).results.splice(0,15),i(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(m.jsxs)("section",{className:"home-page",children:[Object(m.jsx)(S,{categoryId:t}),null!==s&&Object(m.jsx)(E,{movieData:s})]})},F=function(){return Object(m.jsx)("div",{className:"page-about",children:Object(m.jsxs)("div",{className:"about-content",children:[Object(m.jsx)("div",{className:"about-gomovie-name",children:"About GoMovie"}),Object(m.jsx)("p",{children:"GoMovie is a community showing movie database. Hundreds and thousands of movies information can be found here. You can search for any movies you are interested in and you can favorite them as well. In addition, you can choose any categories of movies to explore like popular, top-rated, now playing and upcoming. All the movie data are up-to-date."}),Object(m.jsx)("p",{children:"GoMovie is a React JS project for educational purposes and is created by Junyi(Vivi) Zeng. "})]})})},z=function(){var e=A.getFavs,t=Object(a.useState)([]),c=Object(l.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){s(e())}),[]);var i=function(){s(e())};return Object(m.jsxs)("div",{className:"favs-Section",children:[Object(m.jsxs)("p",{className:"favs-paragraph",children:[Object(m.jsx)(J.a,{className:"favs-heart"}),"Your favorite movies:"]}),n.length?Object(m.jsx)("section",{className:"movies-container",children:n.map((function(e,t){return Object(m.jsx)(Y,{movieObj:e,onUpdate:i},t)}))}):Object(m.jsx)("section",{className:"no-favs",children:Object(m.jsxs)("p",{children:["You didn't favorite any movies, please",Object(m.jsx)(r.c,{to:"/gomovie/",children:"select now."})]})})]})};var B=function(){var e=new URLSearchParams(Object(o.g)().search).get("query"),t=function(){var t=Object(d.a)(u.a.mark((function t(){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 2:return c=t.sent,t.next=5,c.json();case 5:a=(a=t.sent).results.splice(0,12),i(a);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){t()}),[e]),Object(m.jsx)("div",{className:"favs-Section",children:s.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"favs-paragraph",children:"We found some movies for you:"}),Object(m.jsx)("section",{className:"movies-container",children:s.map((function(e,t){return Object(m.jsx)(Y,{movieObj:e,showDetail:!0},t)}))})]}):Object(m.jsx)("section",{className:"no-favs",children:Object(m.jsx)("p",{children:"No movies found."})})})},D=c(23),U=c.p+"static/media/no-photo.bf1d36bd.jpeg",W=function(e){var t,c,n=e.movieObj,s=e.movieReview,i=e.fecthReview;var r=A.getFavs,o=A.actions,j=Object(a.useState)([]),v=Object(l.a)(j,2),p=v[0],h=v[1],O=Object(a.useState)([]),x=Object(l.a)(O,2),f=x[0],g=x[1],N=Object(a.useState)(1),w=Object(l.a)(N,2),y=w[0],S=w[1],k=Object(a.useState)(1),I=Object(l.a)(k,2),_=I[0],C=I[1],T=Object(a.useState)(0),Y=Object(l.a)(T,2),E=Y[0],R=Y[1],F=Object(a.useState)(3),z=Object(l.a)(F,2),B=z[0],W=z[1],G=Object(a.useState)(),Q=Object(l.a)(G,2),Z=Q[0],L=Q[1],P=Object(a.useState)(),V=Object(l.a)(P,2),q=V[0];V[1];Object(a.useEffect)((function(){h(r())}),[]),Object(a.useEffect)((function(){s&&(g((function(e){return[].concat(Object(D.a)(e),Object(D.a)(s.results))})),S(s.page),C(s.total_pages),R(s.total_results))}),[s]);var H,K,X=function(e,t){var c=o[t?"removeFav":"addFav"](e);h(c)},$=function(e){var t=e.author_details.avatar_path;return t?t.indexOf("http")>0?t.substr(1):"https://image.tmdb.org/t/p/w200/".concat(t):"https://avatars.dicebear.com/api/avataaars/.svg"};return Object(a.useEffect)((function(){n&&function(){var e=Object(d.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n.id,"/videos?language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,L(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"single-movie",children:Object(m.jsxs)("div",{className:"single-movie-content",children:[Object(m.jsx)("div",{className:"single-movie-poster",children:null==n.poster_path?Object(m.jsx)("img",{src:"/",alt:"no poster"}):Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title})}),Object(m.jsxs)("div",{className:"single-movie-info",children:[Object(m.jsxs)("div",{className:"flexRow",children:[Object(m.jsx)("p",{className:"title",children:n.title}),(H=p,K=n.id,0!==H.length&&H.some((function(e){return e.id===K}))?Object(m.jsx)(J.a,{className:"icon-fav red",onClick:function(){return X(n,!0)}}):Object(m.jsx)(J.b,{className:"icon-fav ",onClick:function(){return X(n,!1)}}))]}),Object(m.jsx)("div",{className:"genres",children:n.genres.map((function(e,t){return Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:e.name})})}))}),Object(m.jsxs)("div",{className:"flexRow",children:[Object(m.jsxs)("div",{className:"stick",children:[Object(m.jsx)(M.a,{className:"start"}),Object(m.jsx)("p",{children:n.vote_average})]}),Object(m.jsx)("p",{children:n.release_date})]}),Object(m.jsx)("div",{className:"line"}),Object(m.jsx)("div",{className:"tagline",children:n.tagline}),Object(m.jsx)("p",{className:"overview-title",children:"Overview"}),Object(m.jsx)("p",{className:"overview",children:n.overview}),Object(m.jsxs)("div",{className:"cast",children:[Object(m.jsx)("p",{className:"cast-title",children:"Cast & Crew"}),Object(m.jsx)("div",{className:"cast-layout",children:n.credits.cast.slice(0,4).map((function(e){return Object(m.jsxs)("div",{class:"cast-detail",children:[null===e.profile_path?Object(m.jsx)("img",{src:U,alt:"no photo"}):Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.profile_path),alt:e.name}),Object(m.jsx)("p",{className:"cast-name",children:e.name}),Object(m.jsx)("p",{className:"cast-character",children:e.character})]})}))})]})]})]})}),Z&&Z.results[0]&&Z.results[1]&&Object(m.jsxs)("div",{className:"movie-video",children:[Object(m.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(null===(t=Z.results[0])||void 0===t?void 0:t.key,"?rel=0"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(m.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(null===(c=Z.results[1])||void 0===c?void 0:c.key,"?rel=0"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),Object(m.jsxs)("div",{className:"movie-review",children:[Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"align-center",children:Object(m.jsx)("p",{className:"review-title",children:"Reviews"})}),0===f.length?Object(m.jsx)("p",{className:"no-review",children:"No reviews so far."}):Object(m.jsx)("ul",{className:"review-list cols-3 cols-1-xs align-center",children:f&&f.slice(0,B).map((function(e){return Object(m.jsxs)("li",{children:[" ",Object(m.jsx)("img",{src:$(e),title:"",alt:"","data-edit":"false","data-editor":"field","data-field":"src[Image Path]; title[Image Title]; alt[Image Alternate Text]"}),Object(m.jsx)("div",{className:"reviewer-name",contenteditable:"false",children:e.author}),Object(m.jsx)("p",{className:"review-content",contenteditable:"false",children:e.content}),Object(m.jsx)("div",{className:"review-more",children:Object(m.jsx)("a",{href:e.url,target:"_blank",children:"view more"})}),Object(m.jsx)("small",{contenteditable:"false",children:new Date(e.created_at).toLocaleDateString()})]})}))})]}),B<E&&Object(m.jsx)("div",{className:"load-more",children:Object(m.jsx)("a",{href:"javascript:void(0)",onClick:function(){B+3>f.length&&y<_&&i(y+1),W(Math.min(B+3,E))},children:"load more"})})]}),Object(m.jsx)("div",{className:"similar-movie",children:q&&q.map((function(e,t){return Object(m.jsx)("div",{children:e})}))})]})},G=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(null),i=Object(l.a)(s,2),r=i[0],j=i[1],v=Object(o.h)().id,p=function(){var e=Object(d.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(v,"?language=en-US&append_to_response=videos,images,credits"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){var t,c,a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(v,"/reviews?page=").concat(t),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}});case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,j(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p(),h()}),[]),Object(m.jsx)("div",{className:"single-movie-page",children:null!==c&&Object(m.jsx)(W,{movieObj:c,movieReview:r,fecthReview:h})})};var Q=function(){return Object(m.jsx)(r.a,{children:Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(g,{}),Object(m.jsx)("main",{className:"main",children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/gomovie/",exact:!0,children:Object(m.jsx)(R,{})}),Object(m.jsx)(o.a,{path:"/gomovie/index.html",exact:!0,children:Object(m.jsx)(R,{})}),Object(m.jsx)(o.a,{path:"/gomovie/sort/:categoryId",children:Object(m.jsx)(R,{})}),Object(m.jsx)(o.a,{path:"/gomovie/about",children:Object(m.jsx)(F,{})}),Object(m.jsx)(o.a,{path:"/gomovie/favs",children:Object(m.jsx)(z,{})}),Object(m.jsx)(o.a,{path:"/gomovie/search",children:Object(m.jsx)(B,{})}),Object(m.jsx)(o.a,{path:"/gomovie/movie/:id",children:Object(m.jsx)(G,{})})]})}),Object(m.jsx)(N,{})]})})};c(44);i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(Q,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f6c63813.chunk.js.map